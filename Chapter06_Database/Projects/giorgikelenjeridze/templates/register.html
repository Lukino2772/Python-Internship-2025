{% extends "base.html" %}
{% block title %}Register{% endblock %}

{% block body %}

{# get_flashed_messages() ავტომატურად იღებს flash()-ის პარამეტრებს #}

{% if get_flashed_messages(with_categories=True) %}
{% for category, message in get_flashed_messages(with_categories=True) %}
<div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
  <button
    type="button"
    class="close"
    data-dismiss="alert"
    aria-label="Close"
    class="fade close"
  >
    <span aria-hidden="true">&times;</span>
  </button>
  {{message}}
</div>
{% endfor %}
{% endif %}
  <div class="container d-flex justify-content-center py-5">
    <div class="card shadow-lg border-0" style="max-width: 500px; width: 100%; background: #ffffff;">
      <div class="card-body p-5">
        <h2 class="mb-4 fw-bold text-center">Create Your Account</h2>
        <form method="post">
            {% for errors in form.errors.values() %}
                {% for error in errors %}
                    <p class="text-danger">*{{ error }}</p>
                {% endfor %}
            {% endfor %}
            {{ form.hidden_tag() }}

            {{ form.username(placeholder=form.username.label.text, class="form-control") }}
            <br>
            {{ form.email(placeholder=form.email.label.text, class="form-control") }}
            <br>
            {{ form.password(placeholder=form.password.label.text, class="form-control") }}
            <br>
            {{ form.submit(placeholder=form.submit.label.text, class="form-control") }}
        </form>
      </div>
    </div>
  </div>
<script
  src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
  integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
  crossorigin="anonymous"
></script>
<script
  src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
  integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
  crossorigin="anonymous"
></script>
<script
  src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
  integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
  crossorigin="anonymous"
></script>

{% endblock %}
